:root {
    /* Palette generated by Material Palette - materialpalette.com/teal/amber */
    --dark-primary-color: #00796b;
    --default-primary-color: #009688;
    --light-primary-color: #b2dfdb;
    --extra-light-primary-color: #e0f2f1;
    --text-primary-color: #fff;
    --accent-color: #ffc107;
    --primary-text-color: #212121;
    --secondary-text-color: #757575;
    --divider-color: #bdbdbd;
    --card-background-color: #fafafa;

    --chat-message-padding: 0.4em;
}


/* Generic styles */
body { margin: 0; padding: 0; height: 100vh; font-family: 'Open Sans', 'Arial', sans-serif; font-size: 3vw; color: var(--primary-text-color); }
@media (min-width: 650px) {
    body { font-size: 1.8vw; }
}
@media (min-width: 1000px) {
    body { font-size: 1.5vw; }
}
input { border: none; border-radius: 2px; color: var(--primary-text-color); }
button { border: none; border-radius: 2px; }

/* Common elements */
.midScreenBox { position: absolute; z-index: 2; width: 50%; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: var(--dark-primary-color); color: var(--text-primary-color); border-radius: 2px; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23); }
.fullScreenSemiTransparentCover { position: fixed; z-index: 1; top: 0; right: 0; bottom: 0; left: 0; overflow-x: hidden; background-color: rgba(0, 0, 0, 0.4); transition: 0.5s; }

/* Indicator light */
.indicatorLight { width: 1em; height: 1em; background-color: #bbb; border-radius: 50%; display: inline-block; }
.indicatorLight.red { background-color: red; }
.indicatorLight.yellow { background-color: yellow; }
.indicatorLight.green { background-color: green; }

/* App layout and settings */
#app { height: 100%; display: grid; grid-template-rows: 2em calc(100vh - 4em) 2em; }
#app > header { display: grid; grid-template-columns: 2em auto auto; background-color: var(--dark-primary-color); color: var(--text-primary-color); }
#app > header .logo { margin: 0.2em; background: url('/app/images/favicon-64.png'); background-size: cover; }
#app > header nav { height: 100%; }
#app > header nav ul { margin: 0; padding: 0; display: table; height: 100%; list-style: none; }
#app > header nav li { display: table-cell; vertical-align: middle; }
#app > header nav a { padding: 5px; text-decoration: none; color: var(--text-primary-color); }
#app > main { background-color: var(--card-background-color); }
#app > footer { position: relative; background-color: var(--dark-primary-color); color: var(--text-primary-color); }
#app > footer span { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
#connectionSection { padding: 0.5em 1em; display: grid; grid-template-columns: auto 1em; grid-column-gap: 0.5em; text-align:right; }

/* Game page layout */
#gamePage { height: 100%; }
#gamePageLayout { display: grid; height: 100%; grid-template-columns: auto 30%; grid-template-rows: 4em calc(70% - 8em) 2em 2em 30%; grid-template-areas: 'players' 'canvas canvas' 'word word' 'timer timer' 'chat chat'; }
@media (min-width: 650px) {
    #gamePageLayout { grid-template-rows: 4em calc(100% - 7em) 3em; grid-template-areas: 'canvas players' 'canvas chat' 'word timer'; }
}
#canvasSection { grid-area: canvas; }
#playerList { grid-area: players; background-color: var(--light-primary-color); }
#wordDisplaySection { background-color: var(--extra-light-primary-color); grid-area: word; }
#chatSection { background-color: var(--light-primary-color); grid-area: chat; }
#timerSection { background-color: var(--light-primary-color); grid-area: timer; }

/* “No connection” box */
#noConnectionBox { position: absolute; z-index: 2; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 1.4em 0.8em; text-align: center; font-size: 1.5em; }
#noConnectionBox button { margin-top: 1em; padding: 5px 20px; font-size: 1.5em; background-color: var(--accent-color); }

/* Connect box */
#connectBox { display: grid; grid-template-columns: 32% 6% 26% 6% 26%; grid-template-areas: 'instructions instructions instructions instructions instructions' 'player then host or connect'; grid-column-gap: 1%; grid-row-gap: 1em; padding: 1.4em 0.8em; }
#connectBox .instructions { grid-area: instructions; font-size:0.7em; }
#connectBox > * { text-align: center; }
#connectBox .playerNameBox { grid-area: player; }
#connectBox .playerNameBox input { width:100%; text-align: center; font-size: 0.9em; }
#connectBox .then { grid-area: then; position: relative; }
#connectBox .then span { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
#connectBox .hostConnectionBox { grid-area: host; }
#connectBox .hostConnectionBox .localPeerId { text-align: center; font-size: 2.5em; }
#connectBox .or { grid-area: or; position: relative; }
#connectBox .or span { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
#connectBox .connectToPeerBox { grid-area: connect; }
#connectBox .connectToPeerBox input { display: inline-block; text-align: center; font-size: 2.5em; width: 80%; }
#connectBox .connectToPeerBox button { margin-top: 0.5em; font-size: 1.5em; width: 80%; background-color: var(--accent-color); }

/* “Game is starting” box */
#gameStartingBox { z-index: 3; width: 40%; padding: 1.4em 0.8em; text-align: center; }
#gameStartingBox .timer { font-size: 5em; }

/* Canvases */
#canvasSection { position: relative; }
#canvasSection canvas { width: 100%; height: 100%; }
#canvasSection button { position: absolute; font-size: 0.8em; }
#canvasSection .clearButton { right: 0; bottom: 0; width: 6em; height: 2.5em; font-size: 0.8em; }
#canvasSection .fullscreenButton { right: 0; top: 0; width: 1.2em; height: 1.2em; padding: 0; font-size: 0.8em; line-height: 1em; cursor: pointer; }
#drawingCanvas { cursor: crosshair; touch-action: none; }

/* Word */
#wordDisplaySection { position: relative; }
#wordDisplaySection span { position: absolute; top: 50%; width: 100%; transform: translate(0, -50%); font-size: 1.2em; text-align: center; }

/* Chat */
#chatSection { display: grid; grid-template-rows: 1.5em calc(100% - 1.5em - 0.5em); grid-row-gap: 0.3em; padding: 0; }
#chatSection .chatInputAndButton { display: grid; grid-template-columns: 70% 27%; grid-column-gap: 3%; }
#chatSection input { width: 100%; box-sizing: border-box; padding: 0.3em; font-size: 0.8em; }
#chatSection button { overflow: hidden; font-size: 0.8em; }
#chatSection ul { margin: 0; padding: 0.1em; overflow-y: scroll; list-style: none; }
#chatSection li { color: var(--text-primary-color); margin-bottom: 0.1em; }
#chatSection li .message { display: inline-block; position: relative; border-radius: var(--chat-message-padding); padding: var(--chat-message-padding); text-align: right; }
#chatSection li .dateTime { display: block; font-size: 0.5em; }
#chatSection li.in { padding: 0 var(--chat-message-padding) 0 0; text-align: right; }
#chatSection li.in .message { background-color: var(--dark-primary-color); }
#chatSection li.out { padding: 0 0 0 var(--chat-message-padding); text-align: left; }
#chatSection li.out .message { text-align: left; background-color: var(--default-primary-color); }
#chatSection li.system .message { background-color: var(--accent-color); color: var(--primary-text-color); }

#chatSection li .message:before { content: ''; position: absolute; width: 0; height: 0; top: 0; border: var(--chat-message-padding) solid; }
#chatSection li.in .message:before { right: calc(-1 * var(--chat-message-padding)); border-color: var(--dark-primary-color) transparent transparent var(--dark-primary-color); }
#chatSection li.out .message:before { right: auto; left: calc(-1 * var(--chat-message-padding)); border-color: var(--default-primary-color) var(--default-primary-color) transparent transparent; }
#chatSection li.in.system .message:before { border-color: var(--accent-color) transparent transparent var(--accent-color); }
#chatSection li.out.system .message:before { border-color: var(--accent-color) var(--accent-color) transparent transparent; }
@media (min-width: 650px) {
    #chatSection { grid-template-rows: 2em calc(100% - 2.5em); grid-row-gap: 0.5em; padding: 1em; }
}

/* Timer */
#timerSection { position: relative; padding: 0.5em 1em; }
#timerSection div { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2em; }
#timerSection div.overSoon { color: red; }